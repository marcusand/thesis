\documentclass{standalone}
\usepackage{tikz}
\usepackage{aeguill}
\begin{document}
% generated by Plantuml 1.2020.00      
\definecolor{plantucolor0000}{RGB}{255,255,255}
\definecolor{plantucolor0001}{RGB}{0,0,0}
\definecolor{plantucolor0002}{RGB}{204,204,204}
\definecolor{plantucolor0003}{RGB}{170,170,170}
\definecolor{plantucolor0004}{RGB}{51,51,51}
\begin{tikzpicture}[yscale=-1
,pstyle0/.style={color=black,fill=white,line width=1.5pt}
,pstyle1/.style={color=black,line width=1.5pt}
,pstyle2/.style={color=plantucolor0003,fill=plantucolor0002,line width=1.5pt}
,pstyle3/.style={color=plantucolor0003,line width=1.5pt}
,pstyle4/.style={color=black,line width=1.0pt}
]
\draw[pstyle0] (22pt,24pt) rectangle (654pt,611pt);
\draw[pstyle1] (70.6824pt,25pt) -- (70.6824pt,31pt) -- (60.6824pt,41pt) -- (22pt,41pt);
\node at (25pt,25pt)[below right,color=black]{\textbf{WAN}};
\draw[pstyle0] (46pt,65pt) rectangle (630pt,424pt);
\draw[pstyle1] (89.4207pt,66pt) -- (89.4207pt,72pt) -- (79.4207pt,82pt) -- (46pt,82pt);
\node at (49pt,66pt)[below right,color=black]{\textbf{LAN}};
\draw[pstyle2] (334pt,116pt) -- (344pt,106pt) -- (514pt,106pt) -- (514pt,390pt) -- (504pt,400pt) -- (334pt,400pt) -- (334pt,116pt) -- cycle;
\draw[pstyle3] (504pt,116pt) -- (513pt,107pt);
\draw[pstyle3] (334pt,116pt) -- (504pt,116pt);
\draw[pstyle3] (504pt,116pt) -- (504pt,400pt);
\node at (390.6pt,119pt)[below right,color=black]{\textit{\guillemotleft device\guillemotright }};
\node at (367.7348pt,133pt)[below right,color=black]{\textbf{Kiosk Workstation}};
\draw[pstyle2] (369pt,490pt) -- (379pt,480pt) -- (610pt,480pt) -- (610pt,577pt) -- (600pt,587pt) -- (369pt,587pt) -- (369pt,490pt) -- cycle;
\draw[pstyle3] (600pt,490pt) -- (609pt,481pt);
\draw[pstyle3] (369pt,490pt) -- (600pt,490pt);
\draw[pstyle3] (600pt,490pt) -- (600pt,587pt);
\node at (456.1pt,493pt)[below right,color=black]{\textit{\guillemotleft device\guillemotright }};
\node at (468.175pt,507pt)[below right,color=black]{\textbf{Server}};
\draw[pstyle2] (148pt,347pt) -- (158pt,337pt) -- (317.7217pt,337pt) -- (317.7217pt,379pt) -- (307.7217pt,389pt) -- (148pt,389pt) -- (148pt,347pt) -- cycle;
\draw[pstyle3] (307.7217pt,347pt) -- (316.7217pt,338pt);
\draw[pstyle3] (148pt,347pt) -- (307.7217pt,347pt);
\draw[pstyle3] (307.7217pt,347pt) -- (307.7217pt,389pt);
\node at (205.6511pt,357pt)[below right,color=plantucolor0004]{\textit{\guillemotleft device\guillemotright }};
\node at (163pt,368pt)[below right,color=black]{MQTT Embedded Client};
\draw[pstyle2] (530pt,160pt) -- (540pt,150pt) -- (614.4195pt,150pt) -- (614.4195pt,192pt) -- (604.4195pt,202pt) -- (530pt,202pt) -- (530pt,160pt) -- cycle;
\draw[pstyle3] (604.4195pt,160pt) -- (613.4195pt,151pt);
\draw[pstyle3] (530pt,160pt) -- (604.4195pt,160pt);
\draw[pstyle3] (604.4195pt,160pt) -- (604.4195pt,202pt);
\node at (545pt,170pt)[below right,color=plantucolor0004]{\textit{\guillemotleft device\guillemotright }};
\node at (545.3098pt,181pt)[below right,color=black]{Webcam};
\draw[pstyle2] (228pt,160pt) -- (238pt,150pt) -- (318.2047pt,150pt) -- (318.2047pt,192pt) -- (308.2047pt,202pt) -- (228pt,202pt) -- (228pt,160pt) -- cycle;
\draw[pstyle3] (308.2047pt,160pt) -- (317.2047pt,151pt);
\draw[pstyle3] (228pt,160pt) -- (308.2047pt,160pt);
\draw[pstyle3] (308.2047pt,160pt) -- (308.2047pt,202pt);
\node at (245.8926pt,170pt)[below right,color=plantucolor0004]{\textit{\guillemotleft device\guillemotright }};
\node at (243pt,181pt)[below right,color=black]{Coin Slot};
\draw[pstyle2] (62.5pt,160pt) -- (72.5pt,150pt) -- (177.5269pt,150pt) -- (177.5269pt,192pt) -- (167.5269pt,202pt) -- (62.5pt,202pt) -- (62.5pt,160pt) -- cycle;
\draw[pstyle3] (167.5269pt,160pt) -- (176.5269pt,151pt);
\draw[pstyle3] (62.5pt,160pt) -- (167.5269pt,160pt);
\draw[pstyle3] (167.5269pt,160pt) -- (167.5269pt,202pt);
\node at (92.8037pt,170pt)[below right,color=plantucolor0004]{\textit{\guillemotleft device\guillemotright }};
\node at (77.5pt,181pt)[below right,color=black]{Card Terminal};
\draw[pstyle2] (369pt,342pt) rectangle (495.2468pt,384pt);
\draw[pstyle2] (364pt,347pt) rectangle (374pt,352pt);
\draw[pstyle2] (364pt,374pt) rectangle (374pt,379pt);
\node at (395.6157pt,352pt)[below right,color=plantucolor0004]{\textit{\guillemotleft application\guillemotright }};
\node at (379pt,363pt)[below right,color=black]{Sharing Station App};
\draw[pstyle2] (377pt,155pt) rectangle (470.9522pt,197pt);
\draw[pstyle2] (372pt,160pt) rectangle (382pt,165pt);
\draw[pstyle2] (372pt,187pt) rectangle (382pt,192pt);
\node at (400.4087pt,165pt)[below right,color=plantucolor0004]{\textit{\guillemotleft service\guillemotright }};
\node at (387pt,176pt)[below right,color=black]{MQTT Broker};
\draw[pstyle2] (385.5pt,529pt) rectangle (478.5154pt,571pt);
\draw[pstyle2] (380.5pt,534pt) rectangle (390.5pt,539pt);
\draw[pstyle2] (380.5pt,561pt) rectangle (390.5pt,566pt);
\node at (395.5pt,539pt)[below right,color=plantucolor0004]{\textit{\guillemotleft application\guillemotright }};
\node at (418.5555pt,550pt)[below right,color=black]{CMS};
\draw[pstyle2] (528.5pt,540pt) ..controls (528.5pt,530pt) and (560.7585pt,530pt) .. (560.7585pt,530pt) ..controls (560.7585pt,530pt) and (593.0171pt,530pt) .. (593.0171pt,540pt) -- (593.0171pt,560pt) ..controls (593.0171pt,570pt) and (560.7585pt,570pt) .. (560.7585pt,570pt) ..controls (560.7585pt,570pt) and (528.5pt,570pt) .. (528.5pt,560pt) -- (528.5pt,540pt);
\draw[pstyle3] (528.5pt,540pt) ..controls (528.5pt,550pt) and (560.7585pt,550pt) .. (560.7585pt,550pt) ..controls (560.7585pt,550pt) and (593.0171pt,550pt) .. (593.0171pt,540pt);
\node at (538.5pt,554pt)[below right,color=black]{Database};
\draw[pstyle4] (552.83pt,202.34pt) ..controls (524.74pt,239.45pt) and (472.98pt,307.85pt) .. (447.29pt,341.79pt);
\node at (515pt,264pt)[below right,color=plantucolor0004]{mediastream};
\draw[pstyle4] (133.79pt,202.19pt) ..controls (146.24pt,224.67pt) and (165.28pt,258.37pt) .. (183pt,287pt) ..controls (193.46pt,303.9pt) and (205.84pt,322.49pt) .. (215.67pt,336.94pt);
\node at (184pt,264pt)[below right,color=plantucolor0004]{serial};
\draw[pstyle4] (253.22pt,202.12pt) ..controls (243.57pt,215.98pt) and (232.99pt,234pt) .. (228pt,252pt) ..controls (220.19pt,280.19pt) and (223.5pt,313.97pt) .. (227.43pt,336.6pt);
\node at (229pt,264pt)[below right,color=plantucolor0004]{serial};
\draw[pstyle4] (385.99pt,197.1pt) ..controls (362.49pt,210.66pt) and (332.6pt,230.04pt) .. (310pt,252pt) ..controls (283.75pt,277.5pt) and (260.74pt,313.1pt) .. (246.86pt,336.81pt);
\node at (311pt,258.5pt)[below right,color=plantucolor0004]{\guillemotleft protocol\guillemotright };
\node at (326.8711pt,269.5pt)[below right,color=plantucolor0004]{mqtt};
\draw[pstyle4] (407.95pt,197.4pt) ..controls (392.73pt,219.27pt) and (373.52pt,255.16pt) .. (383pt,287pt) ..controls (389.12pt,307.57pt) and (402.88pt,327.76pt) .. (414.27pt,342pt);
\node at (384.4175pt,253pt)[below right,color=plantucolor0004]{\guillemotleft protocol\guillemotright };
\node at (387.1077pt,264pt)[below right,color=plantucolor0004]{mqtt over};
\node at (384pt,275pt)[below right,color=plantucolor0004]{websockets};
\draw[pstyle4] (478.61pt,550pt) ..controls (495.24pt,550pt) and (511.87pt,550pt) .. (528.5pt,550pt);
\draw[pstyle4] (432pt,384.15pt) ..controls (432pt,419.74pt) and (432pt,493.31pt) .. (432pt,528.87pt);
\node at (433pt,441pt)[below right,color=plantucolor0004]{\guillemotleft protocol\guillemotright };
\node at (444.4235pt,452pt)[below right,color=plantucolor0004]{http(s)};
\end{tikzpicture}
\end{document}
